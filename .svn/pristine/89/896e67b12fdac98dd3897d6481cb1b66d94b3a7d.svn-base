<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ghost.mapper.MemoryMapper">
	<!-- 查询所有请假申请表信息 -->
	<select id="findAllMemory" resultType="memory">
		select * from Memory
	</select>
	
	<!-- 根据条件查询特定请假申请表信息 -->
	<select id="findMemoryByEmpId" parameterType="int" resultType="memory">
		select * from Memory where emp_id=#{emp_id}
	</select>
	
	<!-- 根据请假申请表的ID来查询特定的数据 -->
	<select id="findMemoryById" parameterType="int" resultType="memory">
		select * from Memory where memory_id=#{memory_id}
	</select>
	
	<!-- 添加请假申请表信息 -->
	<insert id="addMemory" parameterType="memory">
		<selectKey keyProperty="memory_id" order="AFTER" resultType="java.lang.Integer">
			select
			LAST_INSERT_ID()
		</selectKey>
		insert into
		memory(emp_id,space,beginDate,endDate,reason,authority,requirement,dept_emp_id,applicationDate<!-- ,approval_emp_id,approvalStatus,approvalDate,assign_emp_id,assignStatus,assignDate,process_emp_id,processStatus,processDate,comment -->)
		values(#{emp_id},#{space},#{beginDate},#{endDate},#{reason},#{authority},#{requirement},#{dept_emp_id},#{applicationDate}<!-- ,#{approval_emp_id},#{approvalStatus},#{approvalDate},#{assign_emp_id},#{assignStatus},#{assignDate},#{process_emp_id},#{processStatus},#{processDate},#{comment} -->)
	</insert>
	
	<!-- 删除请假申请表信息 -->
	<delete id="deleteMemory" parameterType="int">
		delete from memory
		where memory_id=#{memory_id}
	</delete>
	
	
	<!-- 修改请假申请表信息 -->
	<update id="updateMemory" parameterType="memory">
		update memory set
			<!-- emp_id=#{emp_id}, -->space=#{space},<!-- beginDate=#{beginDate},endDate=#{endDate}, -->
			reason=#{reason},authority=#{authority},requirement=#{requirement}<!-- ,dept_emp_id=#{dept_emp_id},
			applicationDate=#{applicationDate},approval_emp_id=#{approval_emp_id},approvalStatus=#{approvalStatus},
			approvalDate=#{approvalDate},assign_emp_id=#{assign_emp_id},assignStatus=#{assignStatus},assignDate=#{assignDate},
			process_emp_id=#{process_emp_id},processStatus=#{processStatus},processDate=#{processDate},comment=#{comment} -->
		where memory_id=#{memory_id}
	</update>
</mapper>